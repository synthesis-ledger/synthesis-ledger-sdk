{
  "id": 18,
  "successBps": 9917,
  "cid": "ar://SYNTH_ATOMIC_HR_BIASGUARD",
  "costUsd": 1500,
  "details": "# A-HR-BiasGuard Technical Logic Specification\n\n## 1. System Architecture Overview\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                     A-HR-BiasGuard Core Engine                      │\n├─────────────────────────────────────────────────────────────────────┤\n│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │\n│  │   Ingestion │──│  Bias       │──│  Fairness   │──│  Decision   │ │\n│  │   Layer     │  │  Detection  │  │  Scoring    │  │  Gateway    │ │\n│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘ │\n│         │               │               │               │           │\n│         ▼               ▼               ▼               ▼           │\n│  ┌─────────────────────────────────────────────────────────────────┐│\n│  │                    Audit & Observability Layer                  ││\n│  └─────────────────────────────────────────────────────────────────┘│\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n---\n\n## 2. Breakdown Point Score (BPS) Matrix\n\n### 2.1 BPS Calculation Formula\n\n```\nBPS = Σ(Wᵢ × Rᵢ × Iᵢ) / N\n\nWhere:\n  Wᵢ = Weight factor for component i (0.0 - 1.0)\n  Rᵢ = Risk probability for component i (0.0 - 1.0)\n  Iᵢ = Impact severity for component i (1 - 10)\n  N  = Normalization constant = Σ(Wᵢ × 10)\n```\n\n### 2.2 Component Risk Matrix\n\n| Component ID | Component Name | Weight (Wᵢ) | Risk Threshold | Impact (Iᵢ) | BPS Contribution |\n|--------------|----------------|-------------|----------------|-------------|------------------|\n| C-001 | Data Ingestion Pipeline | 0.85 | R ≥ 0.15 | 9 | `0.85 × R × 9` |\n| C-002 | Feature Extraction Engine | 0.90 | R ≥ 0.10 | 10 | `0.90 × R × 10` |\n| C-003 | Bias Detection Model | 0.95 | R ≥ 0.05 | 10 | `0.95 × R × 10` |\n| C-004 | Fairness Scoring Module | 0.92 | R ≥ 0.08 | 9 | `0.92 × R × 9` |\n| C-005 | Decision Gateway | 0.88 | R ≥ 0.12 | 8 | `0.88 × R × 8` |\n| C-006 | Audit Logger | 0.75 | R ≥ 0.20 | 7 | `0.75 × R × 7` |\n| C-007 | Model Drift Detector | 0.80 | R ≥ 0.18 | 8 | `0.80 × R × 8` |\n| C-008 | Protected Class Validator | 0.93 | R ≥ 0.07 | 10 | `0.93 × R × 10` |\n\n### 2.3 BPS Severity Classification\n\n```\nBPS_SEVERITY = {\n    \"NOMINAL\":    BPS < 0.15,\n    \"ELEVATED\":   0.15 ≤ BPS < 0.35,\n    \"WARNING\":    0.35 ≤ BPS < 0.55,\n    \"CRITICAL\":   0.55 ≤ BPS < 0.75,\n    \"BREAKDOWN\":  BPS ≥ 0.75\n}\n```\n\n### 2.4 Failure Mode Analysis\n\n```python\nFAILURE_MODES = {\n    \"FM-001\": {\n        \"name\": \"Disparate Impact Threshold Breach\",\n        \"trigger\": \"DI_ratio < 0.80 OR DI_ratio > 1.25\",\n        \"bps_impact\": 0.45,\n        \"mttr_target_minutes\": 15,\n        \"escalation_path\": [\"L2-SRE\", \"ML-Ethics-Team\", \"Legal\"]\n    },\n    \"FM-002\": {\n        \"name\": \"Protected Attribute Leakage\",\n        \"trigger\": \"feature_importance(protected_attr) > 0.05\",\n        \"bps_impact\": 0.65,\n        \"mttr_target_minutes\": 5,\n        \"escalation_path\": [\"L3-SRE\", \"CISO\", \"Legal\"]\n    },\n    \"FM-003\": {\n        \"name\": \"Model Drift Beyond Tolerance\",\n        \"trigger\": \"PSI > 0.25 OR KL_divergence > 0.10\",\n        \"bps_impact\": 0.35,\n        \"mttr_target_minutes\": 30,\n        \"escalation_path\": [\"L2-SRE\", \"ML-Ops\"]\n    },\n    \"FM-004\": {\n        \"name\": \"Audit Trail Discontinuity\",\n        \"trigger\": \"audit_gap_seconds > 300\",\n        \"bps_impact\": 0.40,\n        \"mttr_target_minutes\": 10,\n        \"escalation_path\": [\"L2-SRE\", \"Compliance\"]\n    },\n    \"FM-005\": {\n        \"name\": \"Fairness Score Degradation\",\n        \"trigger\": \"Δfairness_score > 0.15 over 24h\",\n        \"bps_impact\": 0.50,\n        \"mttr_target_minutes\": 60,\n        \"escalation_path\": [\"L2-SRE\", \"ML-Ethics-Team\"]\n    }\n}\n```\n\n---\n\n## 3. JSON Schema for Input Validation\n\n### 3.1 Candidate Evaluation Request Schema\n\n```json\n{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://a-hr-biasguard.internal/schemas/candidate-evaluation-request.json\",\n  \"title\": \"CandidateEvaluationRequest\",\n  \"type\": \"object\",\n  \"required\": [\n    \"request_id\",\n    \"timestamp\",\n    \"candidate_data\",\n    \"evaluation_context\",\n    \"audit_metadata\"\n  ],\n  \"properties\": {\n    \"request_id\": {\n      \"type\": \"string\",\n      \"format\": \"uuid\",\n      \"description\": \"Unique identifier for request tracing\"\n    },\n    \"timestamp\": {\n      \"type\": \"string\",\n      \"format\": \"date-time\",\n      \"description\": \"ISO 8601 timestamp of request initiation\"\n    },\n    \"schema_version\": {\n      \"type\": \"string\",\n      \"pattern\": \"^[0-9]+\\\\.[0-9]+\\\\.[0-9]+$\",\n      \"default\": \"2.1.0\"\n    },\n    \"candidate_data\": {\n      \"type\": \"object\",\n      \"required\": [\"candidate_id\", \"features\"],\n      \"properties\": {\n        \"candidate_id\": {\n          \"type\": \"string\",\n          \"minLength\": 8,\n          \"maxLength\": 64,\n          \"pattern\": \"^[A-Za-z0-9-_]+$\"\n        },\n        \"features\": {\n          \"type\": \"object\",\n          \"required\": [\"experience_years\", \"education_level\", \"skills\"],\n          \"properties\": {\n            \"experience_years\": {\n              \"type\": \"number\",\n              \"minimum\": 0,\n              \"maximum\": 60\n            },\n            \"education_level\": {\n              \"type\": \"integer\",\n              \"minimum\": 1,\n              \"maximum\": 8,\n              \"description\": \"1=None, 2=HS, 3=Associate, 4=Bachelor, 5=Master, 6=PhD, 7=PostDoc, 8=Other\"\n            },\n            \"skills\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"required\": [\"skill_id\", \"proficiency\"],\n                \"properties\": {\n                  \"skill_id\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^SKL-[0-9]{6}$\"\n                  },\n                  \"proficiency\": {\n                    \"type\": \"number\",\n                    \"minimum\": 0.0,\n                    \"maximum\": 1.0\n                  },\n                  \"years_experience\": {\n                    \"type\": \"number\",\n                    \"minimum\": 0\n                  },\n                  \"verified\": {\n                    \"type\": \"boolean\",\n                    \"default\": false\n                  }\n                }\n              },\n              \"minItems\": 1,\n              \"maxItems\": 100\n            },\n            \"certifications\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"cert_id\": {\"type\": \"string\"},\n                  \"issue_date\": {\"type\": \"string\", \"format\": \"date\"},\n                  \"expiry_date\": {\"type\": \"string\", \"format\": \"date\"},\n                  \"verified\": {\"type\": \"boolean\"}\n                }\n              }\n            }\n          },\n          \"additionalProperties\": false\n        },\n        \"protected_attributes_hash\": {\n          \"type\": \"string\",\n          \"pattern\": \"^[a-f0-9]{64}$\",\n          \"description\": \"SHA-256 hash for audit without exposure\"\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"evaluation_context\": {\n      \"type\": \"object\",\n      \"required\": [\"job_requisition_id\", \"evaluation_stage\"],\n      \"properties\": {\n        \"job_requisition_id\": {\n          \"type\": \"string\",\n          \"pattern\": \"^REQ-[0-9]{4}-[0-9]{6}$\"\n        },\n        \"evaluation_stage\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"RESUME_SCREEN\",\n            \"INITIAL_ASSESSMENT\",\n            \"TECHNICAL_EVALUATION\",\n            \"BEHAVIORAL_ASSESSMENT\",\n            \"FINAL_REVIEW\",\n            \"OFFER_DECISION\"\n          ]\n        },\n        \"evaluator_id\": {\n          \"type\": \"string\",\n          \"pattern\": \"^EMP-[0-9]{8}$\"\n        },\n        \"department_code\": {\n          \"type\": \"string\",\n          \"pattern\": \"^[A-Z]{2,5}-[0-9]{3}$\"\n        },\n        \"urgency_level\": {\n          \"type\": \"integer\",\n          \"minimum\": 1,\n          \"maximum\": 5,\n          \"default\": 3\n        }\n      }\n    },\n    \"audit_metadata\": {\n      \"type\": \"object\",\n      \"required\": [\"source_system\", \"correlation_id\"],\n      \"properties\": {\n        \"source_system\": {\n          \"type\": \"string\",\n          \"enum\": [\"ATS_PRIMARY\", \"ATS_SECONDARY\", \"MANUAL_ENTRY\", \"API_INTEGRATION\"]\n        },\n        \"correlation_id\": {\n          \"type\": \"string\",\n          \"format\": \"uuid\"\n        },\n        \"session_id\": {\n          \"type\": \"string\"\n        },\n        \"client_ip_hash\": {\n          \"type\": \"string\",\n          \"pattern\": \"^[a-f0-9]{64}$\"\n        },\n        \"consent_token\": {\n          \"type\": \"string\",\n          \"minLength\": 32\n        }\n      }\n    },\n    \"bias_check_config\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"enabled_checks\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"DISPARATE_IMPACT\",\n              \"DEMOGRAPHIC_PARITY\",\n              \"EQUALIZED_ODDS\",\n              \"CALIBRATION\",\n              \"INDIVIDUAL_FAIRNESS\",\n              \"COUNTERFACTUAL_FAIRNESS\"\n            ]\n          },\n          \"default\": [\"DISPARATE_IMPACT\", \"DEMOGRAPHIC_PARITY\", \"EQUALIZED_ODDS\"]\n        },\n        \"threshold_overrides\": {\n          \"type\": \"object\",\n          \"additionalProperties\": {\n            \"type\": \"number\",\n            \"minimum\": 0.0,\n            \"maximum\": 1.0\n          }\n        },\n        \"strict_mode\": {\n          \"type\": \"boolean\",\n          \"default\": true\n        }\n      }\n    }\n  },\n  \"additionalProperties\": false\n}\n```\n\n### 3.2 Bias Detection Response Schema\n\n```json\n{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://a-hr-biasguard.internal/schemas/bias-detection-response.json\",\n  \"title\": \"BiasDetectionResponse\",\n  \"type\": \"object\",\n  \"required\": [\n    \"response_id\",\n    \"request_id\",\n    \"timestamp\",\n    \"processing_time_ms\",\n    \"bias_analysis\",\n    \"decision\",\n    \"audit_record\"\n  ],\n  \"properties\": {\n    \"response_id\": {\n      \"type\": \"string\",\n      \"format\": \"uuid\"\n    },\n    \"request_id\": {\n      \"type\": \"string\",\n      \"format\": \"uuid\"\n    },\n    \"timestamp\": {\n      \"type\": \"string\",\n      \"format\": \"date-time\"\n    },\n    \"processing_time_ms\": {\n      \"type\": \"integer\",\n      \"minimum\": 0\n    },\n    \"bias_analysis\": {\n      \"type\": \"object\",\n      \"required\": [\"overall_fairness_score\", \"metrics\", \"flags\"],\n      \"properties\": {\n        \"overall_fairness_score\": {\n          \"type\": \"number\",\n          \"minimum\": 0.0,\n          \"maximum\": 1.0\n        },\n        \"confidence_interval\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"lower\": {\"type\": \"number\"},\n            \"upper\": {\"type\": \"number\"},\n            \"confidence_level\": {\"type\": \"number\"}\n          }\n        },\n        \"metrics\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"disparate_impact_ratio\": {\n              \"type\": \"number\",\n              \"minimum\": 0.0\n            },\n            \"demographic_parity_difference\": {\n              \"type\": \"number\"\n            },\n            \"equalized_odds_difference\": {\n              \"type\": \"number\"\n            },\n            \"calibration_error\": {\n              \"type\": \"number\",\n              \"minimum\": 0.0\n            },\n            \"individual_fairness_score\": {\n              \"type\": \"number\",\n              \"minimum\": 0.0,\n              \"maximum\": 1.0\n            }\n          }\n        },\n        \"flags\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"required\": [\"flag_code\", \"severity\", \"description\"],\n            \"properties\": {\n              \"flag_code\": {\n                \"type\": \"string\",\n                \"pattern\": \"^BF-[0-9]{4}$\"\n              },\n              \"severity\": {\n                \"type\": \"string\",\n                \"enum\": [\"INFO\", \"WARNING\", \"CRITICAL\", \"BLOCKING\"]\n              },\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"affected_groups\": {\n                \"type\": \"array\",\n                \"items\": {\"type\": \"string\"}\n              },\n              \"remediation_hint\": {\n                \"type\": \"string\"\n              }\n            }\n          }\n        },\n        \"feature_attribution\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n```}}}}}}",
  "outcome": "A-HR-BiasGuard",
  "rType": 0,
  "persona": "HR",
  "primary_model": "GPT-4o-Synthesis",
  "privacy_tier": "Public",
  "sybox_fee_split": {
    "dev": 0.5,
    "curation": 0.4,
    "author": 0.1
  },
  "ticker": "SYNL",
  "audit_cadence": "Weekly",
  "lifecycle": "Genesis-Platinum",
  "global_outputs": [
    "synthesis_id",
    "logic_id",
    "bps_verified",
    "model_stack",
    "processing_ms",
    "timestamp"
  ],
  "custom_outputs": [
    {
      "field_name": "fairness_verdict",
      "type": "String",
      "description": "Enum: `[\"APPROVED\", \"CONDITIONAL_APPROVAL\", \"BLOCKED\"]`.",
      "downstream_intent": "A-CEO-KPISiphon",
      "bps_sensitivity": "Yes"
    },
    {
      "field_name": "disparate_impact_ratios",
      "type": "Object",
      "description": "Key metrics (DI ratio, demographic parity diff) for protected groups.",
      "downstream_intent": "Legal / Ethics Persona",
      "bps_sensitivity": "Yes"
    },
    {
      "field_name": "remediation_strategy",
      "type": "String",
      "description": "One-sentence deterministic hint if fairness score is < threshold.",
      "downstream_intent": "HR Recruiter",
      "bps_sensitivity": "No"
    },
    {
      "field_name": "feature_attribution_map",
      "type": "Array",
      "description": "Top 4 features and their impact on the fairness score.",
      "downstream_intent": "ML-Ops / Data Science",
      "bps_sensitivity": "No"
    }
  ]
}